<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>RH26 30FV 팩깡 시뮬레이터</title>
    <!-- Tailwind CSS for modern styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&display=swap');
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #1a0000;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        /* 프리미엄 골드 테두리 및 그라데이션 */
        .premium-border {
            border: 3px solid #d4af37;
        }

        .gold-gradient-bg {
            background: linear-gradient(to right, #d4af37, #f1c40f, #d4af37);
        }

        .card-gradient {
            background: linear-gradient(to bottom, #3a0000, #0a0000);
        }

        .text-shadow-custom {
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }

        /* 숫자 입력기 화살표 제거 */
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        /* 애니메이션 효과 */
        .animate-pop {
            animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        @keyframes popIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
    </style>
</head>
<body class="min-h-screen text-white flex flex-col items-center justify-center p-4">

    <!-- 메인 시뮬레이터 카드 -->
    <div class="w-full max-w-md card-gradient rounded-[2.5rem] shadow-[0_30px_60px_rgba(0,0,0,0.9)] premium-border overflow-hidden animate-pop">
        
        <!-- 상단 헤더 -->
        <div class="gold-gradient-bg p-6 text-center shadow-lg">
            <h1 class="text-3xl font-[900] text-[#2a0000] tracking-tighter uppercase italic">rh26 30fv팩깡</h1>
        </div>

        <!-- 소비 리포트 대시보드 -->
        <div class="grid grid-cols-2 border-b border-[#d4af37]/40 bg-black/40">
            <div class="p-6 text-center border-r border-[#d4af37]/20">
                <p class="text-[#d4af37] text-[12px] uppercase font-black tracking-widest mb-1 opacity-80">소모된 총 FV</p>
                <p id="total-fv" class="text-3xl font-[900] text-white">0</p>
            </div>
            <div class="p-6 text-center">
                <p class="text-[#d4af37] text-[12px] uppercase font-black tracking-widest mb-1 opacity-80">총 오픈 횟수</p>
                <p id="total-opened" class="text-3xl font-[900] text-white">0</p>
            </div>
        </div>

        <!-- 등급별 통계 그리드 -->
        <div class="px-6 py-8 grid grid-cols-3 gap-3 bg-white/5">
            <div class="bg-gradient-to-b from-[#d4af37]/30 to-transparent border border-[#d4af37]/50 p-4 rounded-2xl text-center shadow-xl">
                <p class="text-amber-400 text-[11px] font-black mb-1">134 이상</p>
                <p id="stat-134" class="text-3xl font-[900] text-white drop-shadow-[0_0_15px_rgba(252,211,77,0.6)]">0</p>
                <p class="text-[10px] text-[#d4af37]/80 mt-1 font-bold">확률: 0.74%</p>
            </div>
            <div class="bg-white/5 border border-white/20 p-4 rounded-2xl text-center">
                <p class="text-white/60 text-[11px] font-black mb-1">132 이상</p>
                <p id="stat-132" class="text-2xl font-[900] text-white">0</p>
                <p class="text-[10px] text-white/40 mt-1 font-bold">확률: 5.93%</p>
            </div>
            <div class="bg-black/30 border border-white/10 p-4 rounded-2xl text-center">
                <p class="text-white/30 text-[11px] font-black mb-1">130-131</p>
                <p id="stat-130" class="text-xl font-[900] text-white/40">0</p>
                <p class="text-[10px] text-white/20 mt-1 font-bold">확률: 93.32%</p>
            </div>
        </div>

        <!-- 조작 인터페이스 -->
        <div class="px-10 pb-8 space-y-6">
            <div class="flex flex-col gap-3">
                <label class="text-[11px] font-black text-[#d4af37] ml-1 uppercase tracking-widest opacity-60 text-shadow-custom">Open Quantity (수량 입력)</label>
                <div class="flex gap-4 items-center bg-black/50 p-3 rounded-2xl border-2 border-white/10 focus-within:border-[#d4af37] transition-all">
                    <input 
                        id="num-input"
                        type="number" 
                        value="1"
                        min="1"
                        class="w-full bg-transparent text-center font-[900] text-3xl text-[#d4af37] outline-none"
                    />
                    <button 
                        onclick="openMultiplePacks()"
                        class="whitespace-nowrap bg-gradient-to-r from-[#d4af37] to-[#f1c40f] hover:brightness-110 active:scale-95 transition-all px-10 py-5 rounded-xl font-black text-[#2a0000] text-xl shadow-[0_15px_30px_rgba(212,175,55,0.3)]"
                    >
                        개 까기
                    </button>
                </div>
            </div>
            
            <button 
                onclick="resetSim()"
                class="w-full bg-white/5 hover:bg-white/10 py-4 rounded-xl font-black text-[11px] tracking-[0.3em] text-white/40 border border-white/5 transition-all uppercase"
            >
                Reset Simulator
            </button>
        </div>

        <!-- 최종 획득 가치 표시 섹션 -->
        <div class="bg-black/80 border-t-2 border-[#d4af37]/30 p-10 shadow-inner text-center">
            <p class="text-[#d4af37] text-sm font-[900] tracking-[0.25em] uppercase opacity-80 text-shadow-custom mb-3">Total Estimated Value</p>
            <p id="total-value" class="text-6xl font-[900] text-white tracking-tighter drop-shadow-[0_0_25px_rgba(212,175,55,0.5)]">
                0억
            </p>
            <div class="pt-8">
                <div class="inline-block px-6 py-2 bg-red-950/40 rounded-full border border-red-900/50 shadow-lg">
                    <p class="text-[11px] text-red-500 font-black italic tracking-tight">
                        ※ 해당 결과는 수수료를 고려하지 않음
                    </p>
                </div>
            </div>
        </div>

    </div>

    <!-- 푸터 정보 -->
    <div class="mt-8 flex flex-col items-center gap-2 opacity-30">
        <p class="text-[11px] font-[900] tracking-widest text-[#d4af37]">FIFA MOBILE RH26 EDITION</p>
        <p class="text-[10px] font-medium text-white tracking-tighter text-center">
            134+ (0.7419%) | 132+ (5.9356%) | 130-131 (93.3223%)
        </p>
    </div>

    <script>
        // --- 설정 데이터 (하민님 제공 확률 및 가치) ---
        const PRICE_PER_PACK = 30;
        const VAL_134 = 2500; // 억
        const VAL_132 = 200;  // 억
        const VAL_130 = 90;   // 억

        // 기본 확률 * 4
        const PROB_134 = 0.18549052 * 4; 
        const PROB_132 = 1.48392415 * 4; 

        // --- 상태 관리 객체 ---
        let state = {
            totalFV: 0,
            totalOpened: 0,
            ovr134: 0,
            ovr132: 0,
            ovr130: 0
        };

        /**
         * 숫자를 조 단위로 포맷팅하는 함수
         */
        function formatValue(billions) {
            if (billions >= 10000) {
                const jo = Math.floor(billions / 10000);
                const eok = billions % 10000;
                return jo + "조 " + (eok > 0 ? eok.toLocaleString() + "억" : "");
            }
            return billions.toLocaleString() + "억";
        }

        /**
         * 화면의 모든 지표를 최신 상태로 업데이트
         */
        function updateUI() {
            document.getElementById('total-fv').innerText = state.totalFV.toLocaleString();
            document.getElementById('total-opened').innerText = state.totalOpened.toLocaleString();
            document.getElementById('stat-134').innerText = state.ovr134.toLocaleString();
            document.getElementById('stat-132').innerText = state.ovr132.toLocaleString();
            document.getElementById('stat-130').innerText = state.ovr130.toLocaleString();

            const totalValueInBillions = (state.ovr134 * VAL_134) + (state.ovr132 * VAL_132) + (state.ovr130 * VAL_130);
            document.getElementById('total-value').innerText = formatValue(totalValueInBillions);
        }

        /**
         * 대량 오픈 로직
         */
        function openMultiplePacks() {
            const input = document.getElementById('num-input');
            let count = parseInt(input.value) || 0;
            
            if (count <= 0) {
                alert("1개 이상의 수량을 입력해 주세요.");
                return;
            }

            // 성능 과부하 방지를 위해 최대 10만개로 제한 (브라우저 보호)
            const safeCount = Math.min(count, 100000);
            if (count > 100000) {
                alert("한 번에 최대 100,000개까지 깔 수 있습니다.");
            }

            // 시뮬레이션 루프
            for (let i = 0; i < safeCount; i++) {
                const rand = Math.random() * 100;
                if (rand < PROB_134) {
                    state.ovr134++;
                } else if (rand < (PROB_134 + PROB_132)) {
                    state.ovr132++;
                } else {
                    state.ovr130++;
                }
            }

            // 누적 결과 반영
            state.totalFV += (PRICE_PER_PACK * safeCount);
            state.totalOpened += safeCount;
            
            updateUI();
        }

        /**
         * 시뮬레이터 초기화
         */
        function resetSim() {
            if (!confirm("모든 데이터를 초기화하시겠습니까?")) return;

            state = {
                totalFV: 0,
                totalOpened: 0,
                ovr134: 0,
                ovr132: 0,
                ovr130: 0
            };
            document.getElementById('num-input').value = 1;
            updateUI();
        }

        // 초기 화면 설정 실행
        window.onload = updateUI;
    </script>
</body>
</html>

